{"version":3,"sources":["webpack:///static/js/app.9940461661d29f1ad811.js","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///App.vue","webpack:///Snake.vue","webpack:///./src/components/Snake.vue?744e","webpack:///./src/App.vue?f7ed","webpack:///./src/components/Snake.vue?d678"],"names":["webpackJsonp","module","exports","__webpack_require__","Component","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","config","productionTip","el","template","components","App","a","__WEBPACK_IMPORTED_MODULE_0__components_Snake_vue__","__WEBPACK_IMPORTED_MODULE_0__components_Snake_vue___default","name","Snake","data","mark","max_mark","height","width","snake","body","head","direction","cur","next","canChange","speed","food","status","animation","created","this","showFood","mounted","start","document","addEventListener","eventListener","methods","restart","clearTimeout","setTimeout","move","pause","changeDirection","event","code","preventDefault","isOver","unshift","pop","row","Math","ceil","random","col","indexOf","render","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns","staticClass","_v","_s","on","click","_l","column","class","over","_e"],"mappings":"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","file":"static/js/app.9940461661d29f1ad811.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(9)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(5),\n  /* template */\n  __webpack_require__(14),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Snake_vue__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Snake_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Snake_vue__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: {\n    Snake: __WEBPACK_IMPORTED_MODULE_0__components_Snake_vue___default.a\n  }\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'snake',\n  data: function data() {\n    return {\n      mark: 0,\n      max_mark: 1,\n      height: 20,\n      width: 32,\n      snake: {\n        body: ['2,5', '2,4', '2,3', '2,2', '2,1'],\n        head: [2, 5],\n        direction: {\n          cur: 'right',\n          next: 'right',\n          canChange: true\n        },\n        speed: 300\n      },\n      food: '10,15',\n      status: 'paused',\n      animation: ''\n    };\n  },\n  created: function created() {\n    this.showFood();\n  },\n  mounted: function mounted() {\n    this.start();\n    document.addEventListener('keydown', this.eventListener);\n  },\n\n  methods: {\n    restart: function restart() {\n      this.snake = {\n        body: ['2,5', '2,4', '2,3', '2,2', '2,1'],\n        head: [2, 5],\n        direction: {\n          cur: 'right',\n          next: 'right',\n          canChange: true\n        },\n        speed: 300\n      };\n      this.showFood();\n      clearTimeout(this.animation);\n      this.status = 'paused';\n      this.mark = 0;\n      this.start();\n    },\n    start: function start() {\n      this.animation = setTimeout(this.start, this.snake.speed);\n      this.status = 'running';\n      this.move();\n    },\n    pause: function pause() {\n      if (this.status === 'running') {\n        clearTimeout(this.animation);\n        this.status = 'paused';\n      } else {\n        this.start();\n      }\n    },\n    changeDirection: function changeDirection(event) {\n      var direction = '';\n      switch (event.code) {\n        case 'ArrowUp':\n          direction = 'up';\n          break;\n        case 'ArrowDown':\n          direction = 'down';\n          break;\n        case 'ArrowLeft':\n          direction = 'left';\n          break;\n        case 'ArrowRight':\n          direction = 'right';\n          break;\n      }\n      if ((this.snake.direction.cur === 'right' || this.snake.direction.cur === 'left') && (direction === 'up' || direction === 'down') || (this.snake.direction.cur === 'up' || this.snake.direction.cur === 'down') && (direction === 'left' || direction === 'right')) {\n        if (this.snake.direction.canChange) {\n          this.snake.direction.cur = direction;\n          this.snake.direction.next = direction;\n          this.snake.direction.canChange = false;\n        } else {\n          this.snake.direction.next = direction;\n        }\n      }\n    },\n    eventListener: function eventListener(event) {\n      event.preventDefault();\n      this.changeDirection(event);\n      if (event.code === 'Space') {\n        this.pause();\n      } else if (event.code === 'KeyR') {\n        this.restart();\n      }\n    },\n    move: function move() {\n      var head = this.snake.head;\n      var direction = this.snake.direction.cur;\n      head[0] = direction === 'up' ? head[0] - 1 : direction === 'down' ? head[0] + 1 : head[0];\n      head[1] = direction === 'left' ? head[1] - 1 : direction === 'right' ? head[1] + 1 : head[1];\n\n      if (this.isOver()) {\n        clearTimeout(this.animation);\n        return;\n      }\n      this.snake.body.unshift(head[0] + ',' + head[1]);\n      if (head[0] + ',' + head[1] !== this.food) {\n        this.snake.body.pop();\n      } else {\n        this.showFood();\n        this.mark += 10;\n      }\n      if (!this.snake.direction.canChange) {\n        this.snake.direction.canChange = true;\n        this.snake.direction.cur = this.snake.direction.next;\n      }\n    },\n    showFood: function showFood() {\n      var row = Math.ceil(Math.random() * this.height);\n      var col = Math.ceil(Math.random() * this.width);\n      while (this.snake.body.indexOf(row + ',' + col) !== -1) {\n        row = Math.ceil(Math.random() * this.height);\n        col = Math.ceil(Math.random() * this.width);\n      }\n      this.food = row + ',' + col;\n    },\n    isOver: function isOver() {\n      var head = this.snake.head;\n      if (head[0] < 1 || head[1] < 1 || head[0] > this.height || head[1] > this.width || this.snake.body.indexOf(head[0] + ',' + head[1]) !== -1) {\n        this.status = 'stoped';\n        return true;\n      }\n      return false;\n    }\n  }\n});\n\n/***/ }),\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(10)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(6),\n  /* template */\n  __webpack_require__(15),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Snake')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"snake\"\n  }, [_c('div', {\n    staticClass: \"top\"\n  }, [_c('h1', [_vm._v(\"贪吃蛇\")]), _vm._v(\" \"), _c('h3', [_vm._v(\"无尽模式\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"show-action\"\n  }, [_c('div', {\n    staticClass: \"show\"\n  }, [_c('h4', [_vm._v(\"当前分数: \" + _vm._s(_vm.mark))]), _vm._v(\" \"), _c('h4', [_vm._v(\"最高分：\" + _vm._s(_vm.max_mark))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"action\"\n  }, [_c('button', {\n    staticClass: \"restart\",\n    on: {\n      \"click\": _vm.restart\n    }\n  }, [_vm._v(\"重新开始(R)\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"pause\",\n    on: {\n      \"click\": _vm.pause\n    }\n  }, [_vm._v(\"暂停(SPACE)\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('table', _vm._l((_vm.height), function(row) {\n    return _c('tr', _vm._l((_vm.width), function(column) {\n      return _c('td', {\n        class: {\n          body: _vm.snake.body.indexOf(row + ',' + column) !== -1, food: row + ',' + column === _vm.food\n        }\n      })\n    }))\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"over-block\",\n    class: {\n      over: _vm.status === 'stoped'\n    }\n  }, [_c('h2', [_vm._v(\"游戏结束\")]), _vm._v(\" \"), _c('p', [_vm._v(\"最后得分： \" + _vm._s(_vm.mark))]), _vm._v(\" \"), (_vm.mark >= _vm.max_mark) ? _c('h3', [_vm._v(\"！！！最高分！！！\")]) : _vm._e()])])])\n},staticRenderFns: []}\n\n/***/ })\n],[4]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.9940461661d29f1ad811.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-3df2d612\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3df2d612\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 2\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"app\">\n    <Snake></Snake>\n  </div>\n</template>\n\n<script>\nimport Snake from './components/Snake.vue'\nexport default {\n  name: 'app',\n  components: {\n    Snake\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  display: flex;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?66f3c156","<template>\r\n  <div class=\"snake\">\r\n    <div class=\"top\">\r\n      <h1>贪吃蛇</h1>\r\n      <h3>无尽模式</h3>\r\n      <div class=\"show-action\">\r\n        <div class=\"show\">\r\n          <h4>当前分数: {{ mark }}</h4>\r\n          <h4>最高分：{{ max_mark }}</h4>\r\n        </div>\r\n        <div class=\"action\">\r\n          <button class=\"restart\"@click=\"restart\">重新开始(R)</button>\r\n          <button class=\"pause\"@click=\"pause\">暂停(SPACE)</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <table>\r\n        <tr v-for=\"row in height\">\r\n          <td v-for=\"column in width\":class=\"{ body: snake.body.indexOf(row+','+column) !== -1, food: row+','+column === food}\"></td>\r\n        </tr>\r\n      </table>\r\n      <div class=\"over-block\" :class=\"{ over: status==='stoped' }\">\r\n        <h2>游戏结束</h2>\r\n        <p>最后得分： {{ mark }}</p>\r\n        <h3 v-if=\"mark >= max_mark\">！！！最高分！！！</h3>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'snake',\r\n  data () {\r\n    return {\r\n      mark: 0,\r\n      max_mark: 1,\r\n      height: 20,\r\n      width: 32,\r\n      snake: {\r\n        body: ['2,5', '2,4', '2,3', '2,2', '2,1'],\r\n        head: [2, 5],\r\n        direction: {\r\n          cur: 'right',\r\n          next: 'right',\r\n          canChange: true\r\n        },\r\n        speed: 300\r\n      },\r\n      food: '10,15',\r\n      status: 'paused',\r\n      animation: ''\r\n    }\r\n  },\r\n  created () {\r\n    this.showFood()\r\n  },\r\n  mounted () {\r\n    this.start()\r\n    document.addEventListener('keydown', this.eventListener)\r\n  },\r\n  methods: {\r\n    restart () {\r\n      this.snake = {\r\n        body: ['2,5', '2,4', '2,3', '2,2', '2,1'],\r\n        head: [2, 5],\r\n        direction: {\r\n          cur: 'right',\r\n          next: 'right',\r\n          canChange: true\r\n        },\r\n        speed: 300\r\n      }\r\n      this.showFood()\r\n      clearTimeout(this.animation)\r\n      this.status = 'paused'\r\n      this.mark = 0\r\n      this.start()\r\n    },\r\n    start () {\r\n      this.animation = setTimeout(this.start, this.snake.speed)\r\n      this.status = 'running'\r\n      this.move()\r\n    },\r\n    pause () {\r\n      if (this.status === 'running') {\r\n        clearTimeout(this.animation)\r\n        this.status = 'paused'\r\n      } else {\r\n        this.start()\r\n      }\r\n    },\r\n    changeDirection (event) {\r\n      var direction = ''\r\n      switch (event.code) {\r\n        case 'ArrowUp': direction = 'up'\r\n          break\r\n        case 'ArrowDown': direction = 'down'\r\n          break\r\n        case 'ArrowLeft': direction = 'left'\r\n          break\r\n        case 'ArrowRight': direction = 'right'\r\n          break\r\n      }\r\n      if (((this.snake.direction.cur === 'right' || this.snake.direction.cur === 'left') &&\r\n      (direction === 'up' || direction === 'down')) ||\r\n      ((this.snake.direction.cur === 'up' || this.snake.direction.cur === 'down') &&\r\n      (direction === 'left' || direction === 'right'))) {\r\n        if (this.snake.direction.canChange) {\r\n          this.snake.direction.cur = direction\r\n          this.snake.direction.next = direction\r\n          this.snake.direction.canChange = false\r\n        } else {\r\n          this.snake.direction.next = direction\r\n        }\r\n      }\r\n    },\r\n    eventListener (event) {\r\n      event.preventDefault()\r\n      this.changeDirection(event)\r\n      if (event.code === 'Space') {\r\n        this.pause()\r\n      } else if (event.code === 'KeyR') {\r\n        this.restart()\r\n      }\r\n    },\r\n    move () {\r\n      var head = this.snake.head\r\n      var direction = this.snake.direction.cur\r\n      head[0] = direction === 'up' ? head[0] - 1 : direction === 'down' ? head[0] + 1 : head[0]\r\n      head[1] = direction === 'left' ? head[1] - 1 : direction === 'right' ? head[1] + 1 : head[1]\r\n\r\n      if (this.isOver()) {\r\n        clearTimeout(this.animation)\r\n        return\r\n      }\r\n      this.snake.body.unshift(head[0] + ',' + head[1])\r\n      if (head[0] + ',' + head[1] !== this.food) {\r\n        this.snake.body.pop()\r\n      } else {\r\n        this.showFood()\r\n        this.mark += 10\r\n      }\r\n      if (!this.snake.direction.canChange) {\r\n        this.snake.direction.canChange = true\r\n        this.snake.direction.cur = this.snake.direction.next\r\n      }\r\n    },\r\n    showFood () {\r\n      var row = Math.ceil(Math.random() * this.height)\r\n      var col = Math.ceil(Math.random() * this.width)\r\n      while (this.snake.body.indexOf(row + ',' + col) !== -1) {\r\n        row = Math.ceil(Math.random() * this.height)\r\n        col = Math.ceil(Math.random() * this.width)\r\n      }\r\n      this.food = row + ',' + col\r\n    },\r\n    isOver () {\r\n      var head = this.snake.head\r\n      if (head[0] < 1 || head[1] < 1 || head[0] > this.height || head[1] > this.width ||\r\n      this.snake.body.indexOf(head[0] + ',' + head[1]) !== -1) {\r\n        this.status = 'stoped'\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n.snake\r\n  margin: auto;\r\n\r\n  h1,h3\r\n    text-align: center;\r\n    margin-bottom: 3px;\r\n\r\n  h3\r\n    color: grey;\r\n    margin: 0;\r\n  .show-action \r\n    display: flex;\r\n    \r\n  .show-action>.show\r\n    flex: 1.5;\r\n  \r\n  .show-action>.show\r\n    flex: 1;\r\n\r\n  .action\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n\r\n.content\r\n  border: 2px solid black;\r\n  position: relative\r\n\r\n  .over-block\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    color: white\r\n    text-align: center;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    display: none;\r\n  h3\r\n    color: white;\r\n  .over\r\n    display: flex\r\n\r\ntd\r\n  height: 15px;\r\n  width: 15px;\r\n\r\ntd.body\r\n  background: #595959;\r\n\r\ntd.food\r\n  background: #595959;\r\n  border-radius: 50%;\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Snake.vue?90dd4198","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-6e685ab4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Snake.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Snake.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e685ab4\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Snake.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Snake.vue\n// module id = 13\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Snake')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3df2d612\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 14\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"snake\"\n  }, [_c('div', {\n    staticClass: \"top\"\n  }, [_c('h1', [_vm._v(\"贪吃蛇\")]), _vm._v(\" \"), _c('h3', [_vm._v(\"无尽模式\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"show-action\"\n  }, [_c('div', {\n    staticClass: \"show\"\n  }, [_c('h4', [_vm._v(\"当前分数: \" + _vm._s(_vm.mark))]), _vm._v(\" \"), _c('h4', [_vm._v(\"最高分：\" + _vm._s(_vm.max_mark))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"action\"\n  }, [_c('button', {\n    staticClass: \"restart\",\n    on: {\n      \"click\": _vm.restart\n    }\n  }, [_vm._v(\"重新开始(R)\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"pause\",\n    on: {\n      \"click\": _vm.pause\n    }\n  }, [_vm._v(\"暂停(SPACE)\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('table', _vm._l((_vm.height), function(row) {\n    return _c('tr', _vm._l((_vm.width), function(column) {\n      return _c('td', {\n        class: {\n          body: _vm.snake.body.indexOf(row + ',' + column) !== -1, food: row + ',' + column === _vm.food\n        }\n      })\n    }))\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"over-block\",\n    class: {\n      over: _vm.status === 'stoped'\n    }\n  }, [_c('h2', [_vm._v(\"游戏结束\")]), _vm._v(\" \"), _c('p', [_vm._v(\"最后得分： \" + _vm._s(_vm.mark))]), _vm._v(\" \"), (_vm.mark >= _vm.max_mark) ? _c('h3', [_vm._v(\"！！！最高分！！！\")]) : _vm._e()])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e685ab4\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Snake.vue\n// module id = 15\n// module chunks = 1"],"sourceRoot":""}