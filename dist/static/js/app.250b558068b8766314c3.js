webpackJsonp([1],[,,function(t,e,s){s(9);var i=s(0)(s(5),s(14),null,null);t.exports=i.exports},,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(3),n=s(2),a=s.n(n);i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:a.a}})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(13),n=s.n(i);e.default={name:"app",components:{Snake:n.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"snake",data:function(){return{mark:0,max_mark:1,height:20,width:32,type:-1,snake:{body:["10,16","10,15","10,14","10,13","10,12"],head:[10,16],direction:{cur:"right",next:"right",canChange:!0},speed:300,throughBorder:!0,eaten:0},food:"10,15",walls:[["2,2","2,3","2,4","2,5","2,6","2,7","3,2","4,2","3,31","4,31","2,31","2,30","2,29","2,28","2,27","2,26","19,2","19,3","19,4","19,5","19,6","19,7","18,2","17,2","18,31","17,31","19,31","19,30","19,29","19,28","19,27","19,26"],["7,10","7,11","7,12","7,13","7,14","7,15","7,16","7,17","7,18","7,19","7,20","7,21","7,22","13,10","13,11","13,12","13,13","13,14","13,15","13,16","13,17","13,18","13,19","13,20","13,21","13,22"]],status:"paused",animation:""}},created:function(){this.showFood()},mounted:function(){this.start(),document.addEventListener("keydown",this.keyListener)},methods:{restart:function(){var t=this;this.snake={body:["10,16","10,15","10,14","10,13","10,12"],head:[10,16],direction:{cur:"right",next:"right",canChange:!0},speed:300,eaten:0,throughBorder:t.snake.throughBorder},this.showFood(),clearTimeout(this.animation),this.status="paused",this.mark=0,this.start()},start:function(){this.animation=setTimeout(this.start,this.snake.speed),this.status="running",this.move()},pause:function(){"running"===this.status?(clearTimeout(this.animation),this.status="paused"):"paused"===this.status&&this.start()},typeChanged:function(t){console.log(t.target.value),this.type=Number(t.target.value)>0?0:Number(t.target.value),this.restart()},changeDirection:function(t){var e="";switch(t.code){case"ArrowUp":e="up";break;case"ArrowDown":e="down";break;case"ArrowLeft":e="left";break;case"ArrowRight":e="right"}("right"!==this.snake.direction.cur&&"left"!==this.snake.direction.cur||"up"!==e&&"down"!==e)&&("up"!==this.snake.direction.cur&&"down"!==this.snake.direction.cur||"left"!==e&&"right"!==e)||(this.snake.direction.canChange?(this.snake.direction.cur=e,this.snake.direction.next=e,this.snake.direction.canChange=!1):this.snake.direction.next=e)},keyListener:function(t){t.preventDefault(),this.changeDirection(t),"Space"===t.code?this.pause():"KeyR"===t.code&&this.restart()},move:function(){var t=this.snake.head,e=this.snake.direction.cur;if(t[0]="up"===e?t[0]-1:"down"===e?t[0]+1:t[0],t[1]="left"===e?t[1]-1:"right"===e?t[1]+1:t[1],this.snake.throughBorder&&(t[0]=t[0]<1?this.height:t[0]>this.height?t[0]%this.height:t[0],t[1]=t[1]<1?this.width:t[1]>this.width?t[1]%this.width:t[1]),this.isOver())return void clearTimeout(this.animation);this.snake.body.unshift(t[0]+","+t[1]),t[0]+","+t[1]!==this.food?this.snake.body.pop():(this.showFood(),this.mark+=10,this.snake.eaten++,0===this.type&&this.snake.eaten>=10+10*this.type&&this.nextLevel(this.mark)),this.snake.direction.canChange||(this.snake.direction.canChange=!0,this.snake.direction.cur=this.snake.direction.next)},nextLevel:function(t){this.type++,this.restart(),this.mark+=t},showFood:function(){for(var t=Math.ceil(Math.random()*this.height),e=Math.ceil(Math.random()*this.width);-1!==this.snake.body.indexOf(t+","+e)&&-1!==this.walls[this.type].indexOf(t+","+e);)t=Math.ceil(Math.random()*this.height),e=Math.ceil(Math.random()*this.width);this.food=t+","+e},isOver:function(){var t=this.snake.head;return-1!==this.snake.body.indexOf(t[0]+","+t[1])?(this.status="stoped",!0):-1!==this.type&&-1!==this.walls[this.type].indexOf(t[0]+","+t[1])?(this.status="stoped",!0):!this.snake.throughBorder&&(t[0]<1||t[1]<1||t[0]>this.height||t[1]>this.width)&&(this.status="stoped",!0)}}}},,,function(t,e){},function(t,e){},,,function(t,e,s){s(10);var i=s(0)(s(6),s(15),null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Snake")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"snake"},[s("div",{staticClass:"top"},[s("h1",[t._v("贪吃蛇")]),t._v(" "),s("h3",[s("select",{attrs:{name:"type",id:"type",disabled:"running"===t.status},on:{change:t.typeChanged}},[s("option",{attrs:{value:"-1",selected:""}},[t._v("无尽模式")]),t._v(" "),s("option",{attrs:{value:"0"}},[t._v("闯关模式")])])]),t._v(" "),s("div",{staticClass:"show-action"},[s("div",{staticClass:"show"},[s("h4",[t._v("当前分数: "+t._s(t.mark))]),t._v(" "),s("h4",[t._v("最高分："+t._s(t.max_mark))])]),t._v(" "),s("div",{staticClass:"action"},[s("button",{staticClass:"restart",on:{click:t.restart}},[t._v("重新开始(R)")]),t._v(" "),s("button",{staticClass:"pause",on:{click:t.pause}},[t._v("暂停(SPACE)")])])]),t._v(" "),-1!==t.type?s("h3",[t._v("第 "+t._s(t.type+1)+" 关")]):t._e()]),t._v(" "),s("div",{staticClass:"content"},[s("table",{attrs:{cellspacing:"0"}},t._l(t.height,function(e){return s("tr",t._l(t.width,function(i){return s("td",{class:{body:-1!==t.snake.body.indexOf(e+","+i),food:e+","+i===t.food,wall:-1!==t.type&&-1!==t.walls[t.type].indexOf(e+","+i)}})}))})),t._v(" "),s("div",{staticClass:"over-block",class:{over:"stoped"===t.status}},[s("h2",[t._v("游戏结束")]),t._v(" "),s("p",[t._v("最后得分： "+t._s(t.mark))]),t._v(" "),t.mark>=t.max_mark?s("h3",[t._v("！！！最高分！！！")]):t._e()])])])},staticRenderFns:[]}}],[4]);
//# sourceMappingURL=app.250b558068b8766314c3.js.map